<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>念挽随机男同涩图</title>
<style>
    /* 基本的响应式样式 */
    body {
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        background-color: #f0f0f0;
    }
    #randomImage {
        max-width: 100%;
        height: auto;
        display: none; /* 隐藏图片直到加载完成 */
    }
    #randomImage.loading {
        /* 显示加载状态 */
        background: url('loading.gif') center no-repeat; /* 假设您有一个名为 loading.gif 的加载动画 */
        background-size: contain;
    }
</style>
<script>
function loadRandomImage() {
    document.getElementById('randomImage').classList.add('loading');
    var request = new XMLHttpRequest();
    request.open('GET', 'list.js', true);

    request.onreadystatechange = function() {
        if (request.readyState === 4 && request.status === 200) {
            var links = request.responseText.split('\n').filter(function(link) {
                return link.trim().length > 0; // 过滤掉空链接
            });
            var randomIndex = Math.floor(Math.random() * links.length);
            var randomLink = links[randomIndex].trim();
            document.getElementById('randomImage').src = randomLink;
            document.getElementById('randomImage').classList.remove('loading');
            document.getElementById('randomImage').style.display = 'block'; // 显示图片
        }
    };

    request.send();
}
</script>
</head>
<body>
    <img id="randomImage" src="" alt="随机图片" onload="this.classList.remove('loading')">
    <script>loadRandomImage();</script>
</body>
</html>
